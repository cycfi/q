# ![Q-Logo](images/q-logo-small.png) Audio DSP Library

## Setup and Installation

You are a modern c++ programmer. You are smart. You know your way around and
you do not need any hand-holding :smiley: So here are the basic requirements
and dependencies that you need to satisfy in order to use the library:

1. A C++14 compiler
2. CMake 3.5.1 or higher
3. The [Cycfi infra library](https://github.com/cycfi/infra/)
4. [portaudio](http://www.portaudio.com/)
5. [portmidi](http://portmedia.sourceforge.net/portmidi/)

Nuff said? :stuck_out_tongue: Well OK, here are some more info, just for
completeness' sake...

### C++14

On Windows, we currently support only Visual Studio. On Linux and the Mac, we
support both Clang and g++. make sure you have a compiler that supports
C++14.

### CMake

Make sure you have [CMake](https://cmake.org) 3.5.1 or higher. Follow the
installation procedure for your platform.

### Cycfi Infra

Clone [Cycfi infra library](https://github.com/cycfi/infra/). It's easiest to
place your clone of the infra library in the same directory as you have the Q
DSP Library. Infra provides some basic groundwork common to Cycfi libraries,
including Q. If you wish to place it somewhere else, then you need to set the
cmake variable `CYCFI_INFRA_ROOT`, on the cmake command line invocation.

### PortAudio and PortMidi

On Windows, portaudio and portmidi are added as submodules to get around the
idiosyncrasies of the platform that does not have a sensible and mature
package manager. Oh, I tried [Chocolatey](https://chocolatey.org/). Alas, it
does not have portaudio nor portmidi. Mac and Linux, on the other hand, have
mature package managers that we shall use for installing these libraries.

There are multiple ways to install the required tools and libraries depending
on your platform, but here are some examples for MacOS 10.14, Windows 10 and,
and Ubuntu 16.04:

### MacOS 10.14

Using [Homebrew](https://brew.sh/) and [XCode](https://developer.apple.com/xcode/):

1. Install portaudio: `brew install portaudio`
2. Install portmidi: `brew install portmidi`
3. CD to the Q library: `cd Q`
4. Make a build directory: 'mkdir build'
5. CD to the the Q/build directory: `cd build`
6. Invoke cmake: `cmake -G"Xcode" ../`

If successful, cmake will generate an XCode project in the build directory.

### Windows 10

Using [Visual Studio 2017
Community](https://visualstudio.microsoft.com/vs/community/)

1. CD to the Q library: `cd Q`
2. Make a build directory: 'mkdir build'
3. CD to the the Q/build directory: `cd build`
4. Invoke cmake: `cmake -G"Visual Studio 15 2017 Win64" ../`

If successful, cmake will generate an Visual Studio 2017 project in the build
directory.

### Ubuntu 16.04:

Using [dpkg packaging
system](https://wiki.debian.org/DebianPackageManagement), stock g++ compiler
and [CodeBlocks](http://www.codeblocks.org/).

1. Install portaudio: `sudo apt-get install libasound-dev portaudio19-dev libportaudio2 libportaudiocpp0`
2. Install portmidi: `sudo apt-get install libportmidi-dev`
3. CD to the Q library: `cd Q`
4. Make a build directory: 'mkdir build'
5. CD to the the Q/build directory: `cd build`
6. Invoke cmake: `cmake -G"CodeBlocks - Unix Makefiles" ../`

If successful, cmake will generate a CodeBlocks project in the build
directory.

## Build and Test

Build the project generated by cmake.

Try running the tests and examples. If you intend to run the executables
directly from the command line, make sure to change the directory to the same
level where the `audio_files` is (e.g. 1 folder up on XCode builds). Some
tests and examples may require audio clips that are found in this folder.

To make sure everything is OK, try running the `sin_synth.cpp` example. Make
sure your system's default audio device is set up and ready to play audio.
The `sin_synth.cpp` program should play a 5 second 440 Hz sine wave. You
might also want to try running the `list_devices.cpp` example that prints out
all detected audio and MIDI devices.

---

*Copyright (c) 2014-2018 Joel de Guzman. All rights reserved.*
*Distributed under the [MIT License](https://opensource.org/licenses/MIT)*

